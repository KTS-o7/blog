<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <title>RaspberryPi_Zero_Setup :: KTS Blog -  Blog authored by Krishnatejaswi S</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Raspberry Pi Zero Headless WiFi Setup Using Linux The following instructions will ultimately enable your Pi Zero to connect the WiFi to the router during every boot up, for a headless management.
Appendix Prerequisite Enabling USB ethernet gadget mode on Pi Things to do once connected to Pi via USB 3.1. Enabling Internet access in Raspberry Pi 3.2. SSH into Raspberry Pi 3.3. Change locale settings 3.4. Update the OS 3."
/>
<meta
  name="keywords"
  content="Leetcode, Linux, Development, Software, AI, ML"
/>
<meta name="robots" content="noodp" />


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="RaspberryPi_Zero_Setup">
  <meta name="twitter:description" content="Raspberry Pi Zero Headless WiFi Setup Using Linux The following instructions will ultimately enable your Pi Zero to connect the WiFi to the router during every boot up, for a headless management.
Appendix Prerequisite Enabling USB ethernet gadget mode on Pi Things to do once connected to Pi via USB 3.1. Enabling Internet access in Raspberry Pi 3.2. SSH into Raspberry Pi 3.3. Change locale settings 3.4. Update the OS 3.">


<link rel="canonical" href="https://KTS-o7.github.io/blog/posts/raspberrypi/raspberrypi_zero_setup/" />

<link rel="shortcut icon" href="/blog/favicon.ico" />
<link rel="stylesheet" href="/blog/css/index.min.5d96433bd17079764d5a8866addd6d7848ea8295977a06688f43c5be97af544e.css">





  






  
</head>
<body class="flex flex-col min-h-screen w-full bg-slate-50 dark:bg-gray-800"><header class="flex flex-none justify-center z-10">
    <div class="flex flex-row gap justify-between w-full max-w-4xl lg:max-w-5xl h-12 mt-3">
  <div class="flex-none ml-2 md:ml-0">
    <a href="/blog/" class="">
      <img class="h-12 w-12 rounded-full object-cover bg-gray-100" src="/blog/assets/LogoKTS.svg" alt="logo">
    </a>
  </div>
  <div class="flex-1"></div>
  <div class="flex-none">
    



<nav class="h-full static">
  <button id="navbar-menu-toggle" type="button" class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg md:hidden" aria-controls="navbar-menu" aria-expanded="false">
    <span class="sr-only">Open main menu</span>
    <i class="w-8 h-8">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 6l16 0" />
  <path d="M4 12l16 0" />
  <path d="M4 18l16 0" />
</svg>

    </i>
  </button>
  <div class="absolute md:static top-16 left-0 right-0 z-50 hidden w-full md:block md:w-auto" id="navbar-menu">
    <ul class="flex flex-col mx-2 md:mx-0 md:flex-row md:border-0 rounded-sm md:rounded-full px-3 text-base font-medium text-slate-800 dark:text-slate-200 shadow-lg bg-white dark:bg-gray-600 shadow-slate-800/5 dark:shadow-slate-200/5 ring-1 ring-slate-900/5 dark:ring-slate-100/5">
    
        <li id="about" class="">
          <a class="block px-3 py-3 hover:text-emerald-600"
            href="/blog/about/about/" title="About">About</a>
        </li>
      
    
        <li id="post" class="">
          <a class="block px-3 py-3 hover:text-emerald-600 text-emerald-600"
            href="/blog/posts/" title="Post">Post</a>
        </li>
      
    
    </ul>
  </div>
</nav>


  </div>
  
  <div class="flex-none mx-1"></div>
  
  <div class="flex-none md:hidden">
    <a href=/blog/search/ class="inline-flex items-center p-2 text-sm text-slate-800 dark:text-slate-200 rounded-lg" aria-controls="navbar-menu" aria-expanded="false">
      <span class="sr-only">Search</span>
      <i class="w-8 h-8">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
    <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
    <path d="M21 21l-6 -6" />
</svg>

      </i>
    </a>
  </div>
  <div class="darkmode-toggle flex flex-none mr-2 md:mr-0">
    <label for="darkmode-toggle" class="flex items-center px-3 cursor-pointer rounded-full bg-gray-100 dark:bg-gray-600" title="Toggle dark mode">
      <input name="darkmode-toggle" id="darkmode-toggle" type="checkbox" class="sr-only peer" aria-label="Toggle dark mode">
      <div class="group flex flex-row gap-1 justify-center h-8 px-1 rounded-full bg-white dark:bg-gray-700">
        <i class="h-6 w-6 flex-none rounded-full bg-yellow-400 place-self-center peer-checked:group-[]:invisible">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brightness-down" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
   <path d="M12 5l0 .01"></path>
   <path d="M17 7l0 .01"></path>
   <path d="M19 12l0 .01"></path>
   <path d="M17 17l0 .01"></path>
   <path d="M12 19l0 .01"></path>
   <path d="M7 17l0 .01"></path>
   <path d="M5 12l0 .01"></path>
   <path d="M7 7l0 .01"></path>
</svg>

        </i>
        <i class="h-6 w-6 flex-none rounded-full place-self-center invisible peer-checked:group-[]:visible">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon-stars" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
   <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
   <path d="M19 11h2m-1 -1v2"></path>
</svg>

        </i>
      </div>
    </label>
  </div>
</div>

  </header>
  <main class="flex flex-auto justify-center">
    
<div class="w-full max-w-4xl lg:max-w-5xl">
  <div class="flex flex-col mt-6 mx-2 md:mx-0 rounded-lg overflow-hidden shadow-md bg-white dark:bg-gray-700">
    <div>
      <a href="/blog/posts/raspberrypi/raspberrypi_zero_setup/">
        
      </a>
    </div>
    <div class="flex flex-col gap-y-3 p-6">
      <h1 class="text-4xl font-semibold text-slate-800 dark:text-slate-100">
        <a href="/blog/posts/raspberrypi/raspberrypi_zero_setup/">RaspberryPi_Zero_Setup</a>
      </h1>

      
      
  <ul class="flex flex-row flex-wrap text-slate-500 dark:text-slate-300">
    
    
      
      <li>
        <a href="/blog/tags/raspberrypi/"
          class="flex flex-row text-sm mr-2 py-1">
          <i class="h-5 w-5 flex-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M5 9l14 0"></path>
   <path d="M5 15l14 0"></path>
   <path d="M11 4l-4 16"></path>
   <path d="M17 4l-4 16"></path>
</svg>

          </i>
          <span class="ml-0">raspberrypi</span>
        </a>
      </li>
      
      <li>
        <a href="/blog/tags/setup/"
          class="flex flex-row text-sm mr-2 py-1">
          <i class="h-5 w-5 flex-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M5 9l14 0"></path>
   <path d="M5 15l14 0"></path>
   <path d="M11 4l-4 16"></path>
   <path d="M17 4l-4 16"></path>
</svg>

          </i>
          <span class="ml-0">setup</span>
        </a>
      </li>
      
    
  </ul>



      <div class="flex flex-col gap-y-1 md:flex-row md:gap-y-0 md:gap-x-4 text-slate-500 dark:text-slate-300">
  
  
  <div class="flex flex-row text-base gap-x-1">
    <i class="h-6 w-6 flex-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"></path>
   <path d="M16 3v4"></path>
   <path d="M8 3v4"></path>
   <path d="M4 11h16"></path>
   <path d="M11 15h1"></path>
   <path d="M12 15v3"></path>
</svg>

    </i>
    <time datetime="2024-04-15T00:55:16&#43;05:30">
      2024-04-15
    </time>
  </div>

  <div class="flex flex-row text-base gap-x-1">
    <i class="h-6 w-6 flex-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hourglass-high" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M6.5 7h11"></path>
   <path d="M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z"></path>
   <path d="M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z"></path>
</svg>

    </i>
    <span>
      5 minutes to read
    </span>
  </div>
</div>


      
        
      

      <article class="mt-6 w-full max-w-4xl lg:max-w-5xl prose prose-slate dark:prose-invert prose-quoteless post-content">
        <h1 id="raspberry-pi-zero-headless-wifi-setup-using-linux">Raspberry Pi Zero Headless WiFi Setup Using Linux</h1>
<p>The following instructions will ultimately enable your Pi Zero to connect the WiFi to the router during every boot up,
for a headless management.</p>
<h2 id="appendix">Appendix</h2>
<ol>
<li><a href="#1-prerequisite">Prerequisite</a>
</li>
<li><a href="#2-enabling-usb-ethernet-gadget-mode-on-pi">Enabling USB ethernet gadget mode on Pi</a>
</li>
<li><a href="#3-things-to-do-once-connected-to-pi-via-usb">Things to do once connected to Pi via USB</a>
<br>
3.1. <a href="#31-enabling-internet-access-in-raspberry-pi">Enabling Internet access in Raspberry Pi</a>
<br>
3.2. <a href="#32-ssh-into-raspberry-pi">SSH into Raspberry Pi</a>
<br>
3.3. <a href="#33-change-locale-settings">Change locale settings</a>
<br>
3.4. <a href="#34-update-the-os">Update the OS</a>

3.5. <a href="#35-wifi-configuration-for-auto-connecting-to-the-access-point"> WiFi configuration for auto connecting to the access point</a>
</li>
</ol>
<h2 id="1-prerequisite">1. Prerequisite</h2>
<p>a) Raspberry Pi Zero v1.3<br>
b) USB data cable<br>
c) Raspbian OS<br>
d) A charger<br>
e) Manjaro Linux ( mentioned as host OS in this article )<br>
f) Raspberry Pi Imager tool<br>
g) SD card</p>
<h2 id="2-enabling-usb-ether-net-gadget-mode-on-pi">2. Enabling USB ether net gadget mode on Pi</h2>
<p>To enable the gadget mode, edit <code>config.txt</code> and <code>cmdline.txt</code> files in
the<code>boot</code>partition of the SD card.\</p>
<p>Add <code>dtoverlay=dwc2</code> to <code>config.txt</code> and<br>
Add <code>modules-load=dwc2,g_ether</code> after the <code>rootwait</code> in <code>cmdline.txt</code></p>
<hr>
<p><strong>Note</strong>: Leave a space before and after the <code>add modules-load=dwc2,g_ether</code> line.</p>
<hr>
<p>Make an empty <code>ssh</code> file inside the same partition to enable SSH on boot.</p>
<p>Now connect the USB data cable to the USB port of the Pi and plug it in the PC&rsquo;s<br>
USB port.</p>
<h2 id="important-">Important !</h2>
<p>In the newer version of Raspbian there is no default <code>pi</code> user. We have to create it ourselves.
Following steps will instruct you how to create that default user.</p>
<ol>
<li>Create an empty file called <code>userconf</code> in the boot partition.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>touch useconf
</span></span></code></pre></div><ol start="2">
<li>Now copy paste the following into the file</li>
</ol>
<pre tabindex="0"><code>pi:$6$/4.VdYgDm7RJ0qM1$FwXCeQgDKkqrOU3RIRuDSKpauAbBvP11msq9X58c8Que2l1Dwq3vdJMgiZlQSbEXGaY5esVHGBNbCxKLVNqZW1
</code></pre><p>The above will create a default user named <code>pi</code> and password is <code>raspberry</code>.
You can change it later on.
Without this you wont be able to SSH into the raspberry pi zero.</p>
<h2 id="3-things-to-do-once-connected-to-pi-via-usb">3. Things to do once connected to Pi via USB</h2>
<h3 id="31-enabling-internet-access-in-raspberry-pi">3.1 Enabling Internet access in Raspberry Pi</h3>
<p>Before enabling the internet, make sure that the Pi is connected as a USB gadget.
Check <code>sudo dmesg</code> to confirm it. Look for lines similar to</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>  343.853507<span style="color:#f92672">]</span> usb 1-4: new full-speed USB device number <span style="color:#ae81ff">3</span> using xhci_hcd
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.088725<span style="color:#f92672">]</span> usb 1-4: new high-speed USB device number <span style="color:#ae81ff">4</span> using xhci_hcd
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.243731<span style="color:#f92672">]</span> usb 1-4: New USB device found, idVendor<span style="color:#f92672">=</span>0525, idProduct<span style="color:#f92672">=</span>a4a2, bcdDevice<span style="color:#f92672">=</span> 5.10
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.243740<span style="color:#f92672">]</span> usb 1-4: New USB device strings: Mfr<span style="color:#f92672">=</span>1, Product<span style="color:#f92672">=</span>2, SerialNumber<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.243743<span style="color:#f92672">]</span> usb 1-4: Product: RNDIS/Ethernet Gadget
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.243746<span style="color:#f92672">]</span> usb 1-4: Manufacturer: Linux 5.10.17+ with 20980000.usb
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.463183<span style="color:#f92672">]</span> cdc_subset: probe of 1-4:1.0 failed with error -22
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.464195<span style="color:#f92672">]</span> cdc_subset 1-4:1.1 usb0: register <span style="color:#e6db74">&#39;cdc_subset&#39;</span> at usb-0000:03:00.3-4, Linux Device, e2:38:73:2d:01:39
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.464248<span style="color:#f92672">]</span> usbcore: registered new interface driver cdc_subset
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.464297<span style="color:#f92672">]</span> cdc_ether: probe of 1-4:1.0 failed with error -16
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.464337<span style="color:#f92672">]</span> usbcore: registered new interface driver cdc_ether
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.743346<span style="color:#f92672">]</span> bpfilter: Loaded bpfilter_umh pid <span style="color:#ae81ff">4407</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  345.743711<span style="color:#f92672">]</span> Started bpfilter
</span></span></code></pre></div><hr>
<p><strong>Note</strong>:<br>
Give at least 30 seconds or more before trying the <code>dmesg</code></p>
<hr>
<p>If the last line says something like</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>  887.699447<span style="color:#f92672">]</span> usb 1-4: USB disconnect, device number <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  887.699969<span style="color:#f92672">]</span> cdc_subset 1-4:1.1 usb0: unregister <span style="color:#e6db74">&#39;cdc_subset&#39;</span> usb-0000:03:00.3-4, Linux Device
</span></span></code></pre></div><p>that means the USB gadget mode was enabled and for some reason it got disconnected.<br>
If you get this, check whether the USB cable was connected to the USB port on the Pi, not on the power port.</p>
<p>Once confirmed that everything is working fine, goto gnome-network-manager gui and change the <a href="https://raw.githubusercontent.com/AswinGopal/Raspberry-Pi-Zero-v1.3-Headless-WiFI-setup-Using-Linux/main/images/network_settings.png" target="_blank" rel="noopener">USB ethernet&rsquo;s</a>
<br>
<a href="https://raw.githubusercontent.com/AswinGopal/Raspberry-Pi-Zero-v1.3-Headless-WiFI-setup-Using-Linux/main/images/ipv4_setting.png" target="_blank" rel="noopener">IPv4 setting</a>
 to <code>shared to other computers</code>.</p>
<p>Disconnect and then reconnect the USB ethernet in the gui. If that doesn&rsquo;t allow you to ssh into the Pi, you might also need to dis/reconnect the PCI ethernet option.</p>
<p>Now you should be able to SSH into the Internet ready Pi.</p>
<h3 id="32-ssh-into-raspberry-pi">3.2 SSH into Raspberry Pi</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ssh pi@IP_ADDRESS
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>password: raspberry
</span></span></code></pre></div><p>replace the IP_ADDRESS with the IP Address of the Raspberry Pi zero.</p>
<h3 id="33-change-locale-settings">3.3 Change locale settings</h3>
<ol>
<li>To eliminate perl: LC errors during package installations;</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo dpkg-reconfigure locales
</span></span></code></pre></div><p>select the appropriate locale.
For example; en_US.UTF-8</p>
<ol start="2">
<li>Set timezone</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo ln -sf /usr/share/timezone/Country/Region /etc/localtime
</span></span></code></pre></div><ol start="3">
<li>Expand file system</li>
</ol>
<p>expand the file system by using</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo raspi-config
</span></span></code></pre></div><p>Now its time to shutdown the Pi to take effect the changes.</p>
<p>Reboot seems to be breaking the USB ether net gadget mode for some reason. Hence you need to shutdown the system.</p>
<hr>
<p><strong>Note</strong> :</p>
<p>Check <code>dmesg</code> again . If you see some messages similar to below, reboot the host linux OS. Only then re-connect the Pi.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span> 1131.255131<span style="color:#f92672">]</span> ------------<span style="color:#f92672">[</span> cut here <span style="color:#f92672">]</span>------------
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 1131.255137<span style="color:#f92672">]</span> NETDEV WATCHDOG: enx1a4d1a4fb05e <span style="color:#f92672">(</span>cdc_ether<span style="color:#f92672">)</span>: transmit queue <span style="color:#ae81ff">0</span> timed out
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 1131.255158<span style="color:#f92672">]</span> WARNING: CPU: <span style="color:#ae81ff">6</span> PID: <span style="color:#ae81ff">0</span> at net/sched/sch_generic.c:467 dev_watchdog+0x24f/0x260
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 1131.255535<span style="color:#f92672">]</span> ---<span style="color:#f92672">[</span> end trace 07a143fded20143c <span style="color:#f92672">]</span>---
</span></span></code></pre></div><p>I got this message even after a reboot. In that case disconnect the Pi and check the SD card for any file system errors. Reboot the host OS
again and reconnect the Pi.</p>
<hr>
<p>Then follow the instructions on <a href="#31-enabling-internet-access-in-raspberry-pi">3.1</a>
.</p>
<h3 id="34-update-the-os">3.4 Update the OS</h3>
<p>It&rsquo;s better to setup the WiFi connection and then upgrade the OS.
It can be done by referring to</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt update
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt upgrade
</span></span></code></pre></div><p>Shutdown and unplug or re plug the Pi. Follow <a href="#31-enabling-internet-access-in-raspberry-pi">3.1</a>
.</p>
<p>Now we need to setup the WiFi to automatically connect to the access point during the next reboot.</p>
<h3 id="35-wifi-configuration-for-auto-connecting-to-the-access-point">3.5 WiFi configuration for auto connecting to the access point</h3>
<p>You can add the WiFi Configuration using <code>raspi-config</code> after SSH-ing via USB.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>arp -a
</span></span></code></pre></div><p>This will display the IP address of the USB Ethernet ( usually its of form <code>10.42.0.x</code> )
SSH into the board.
Use the following command to enter the Raspi configuration</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo raspi-config
</span></span></code></pre></div><p>Then connect to WiFi via the Connection options by entering the SSID and Password of your network.</p>
<p>OR</p>
<p>Add these lines to <code>/etc/wpa_supplicant/wpa_supplicant.conf</code>;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>country<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;your country code&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>network<span style="color:#f92672">={</span>
</span></span><span style="display:flex;"><span>    scan_ssid<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    ssid<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wifi name&#34;</span>
</span></span><span style="display:flex;"><span>    psk<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wifi password&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Now shutdown the Pi. Connect the WiFi adapter and power cable then turn it on.</p>

      </article>
      <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
  integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
  integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      
      
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true },
        { left: "***", right: "***", display: true },
      ],
      
      throwOnError: false,
    });
  });
</script>

      


  
<script type="text/javascript">
  (function() {
    const themeToggle = document.querySelector('.darkmode-toggle input');
    const light = 'light';
    const dark = 'dark';
    let isDark = localStorage.theme === dark || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
    let theme = isDark ? dark : light;

    const s = document.createElement('script');
    s.type = 'text/javascript';
    const dataset = {
        repo: 'KTS-o7\/KTS-o7.github.io',
        repoId: 'R_kgDOLt_ntg',
        category: 'General',
        categoryId: 'DIC_kwDOLt_nts4Ceruy',
        mapping: 'pathname',
        reactionsEnabled: '1',
        emitMetadata: '0',
        theme: theme,
        lang: 'en',
    };
    s.src = 'https://giscus.app/client.js';
    s.crossorigin = 'anonymous';
    s.async = true;
    Object.entries(dataset).forEach(function(a) {
        return s.dataset[a[0]] = a[1];
    });

    const curScriptElement = document.currentScript;
    curScriptElement.parentNode.insertBefore(s, curScriptElement);

    function sendMessage(message) {
      const iframe = document.querySelector('iframe.giscus-frame');
      
      if (!iframe) return;
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
    }

    themeToggle.addEventListener('change', function () {
      if (this.checked) {
        theme = dark;
      } else {
        theme = light;
      }
      sendMessage({
        setConfig: {
          theme: theme,
        }
      });
    });
  })();
</script>
  



    </div>
  </div>
</div>

  </main>
  <footer class="flex flex-none justify-center">
    <section class="flex flex-col md:flex-row mx-2 md:mx-0 gap-2 md:gap-0 justify-between w-full max-w-4xl lg:max-w-5xl py-6 text-slate-500 dark:text-slate-300">
  <div class="flex flex-row">
    
  
  
    <a href="https://github.com/KTS-o7" target="_blank" title="Github" class="flex flex-row mr-2">
      <span class="hidden">Github</span>
      <i class="h-6 w-6 flex-none"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path>
</svg>
 </i>
    </a>
  
  
  
    <a href="https://www.linkedin.com/in/krishnatejaswi-shenthar/" target="_blank" title="LinkedIn" class="flex flex-row mr-2">
      <span class="hidden">LinkedIn</span>
      <i class="h-6 w-6 flex-none"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"></path>
   <path d="M8 11l0 5"></path>
   <path d="M8 8l0 .01"></path>
   <path d="M12 16l0 -5"></path>
   <path d="M16 16v-3a2 2 0 0 0 -4 0"></path>
</svg>
 </i>
    </a>
  
  


  </div>
  <div class="grow"></div>
  <div class="flex flex-row">
    <i class="h-6 w-6 flex-none"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
   <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
   <path d="M14 9.75a3.016 3.016 0 0 0 -4.163 .173a2.993 2.993 0 0 0 0 4.154a3.016 3.016 0 0 0 4.163 .173"></path>
</svg>
</i> 2023 - 2024 Krishnatejaswi S
    
  </div>
  
  <div class="flex flex-row">
    <span class="ml-0 pl-0 md:ml-2 md:pl-2 border-l-0 md:border-l border-slate-300 dark:border-slate-400">
      Powered by <a href="https://gohugo.io" target="_blank" rel="noopener" class="underline">Hugo</a> <span class="text-red-600">&hearts;</span> <a href="https://github.com/tomowang/hugo-theme-tailwind" target="_blank" rel="noopener" class="underline">Tailwind</a>
    </span>
  </div>
  
</section>

  </footer>
  <script src="/blog/main.min.c6372b6836971865bd94bfde974748aca8415824a2facab6ccd66a87384bfacb.js"></script>

<div class="hidden top-1 right-1" id="code-copy">
  <i class="h-6 w-6 block">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
  <path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" />
</svg>

  </i>
</div>
<div class="hidden top-1 right-1" id="code-copy-done">
  <i class="h-6 w-6 block">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M5 12l5 5l10 -10" />
</svg>

  </i>
</div><script src="/blog/code-copy.min.366aad7b16fb4cb21d28085777314f544780febaa813080ba8d8b331220e42eb.js"></script>





</body>
</html>
